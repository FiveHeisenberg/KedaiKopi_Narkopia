<!DOCTYPE html>
<html>
<head>
    <title>Pembayaran Berhasil!</title>

    <!-- CSS -->
    <link rel="stylesheet" href="css/payment_success.css">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">

    <!-- Icon Web -->
    <link rel="icon" type="image/x-icon" href="img/logo/logo.png">
    
    <!-- ICON -->
    <link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
</head>
<body>
    <div class="container">
        <!-- Logo -->
        <div class="logo">
            <h3>Nar<span>kopia</span></h3>
        </div>
        <hr>
        <!-- Header -->
        <div class="receipt">
            <h1>Pembayaran Berhasil</h1>
            <h2>Struk Pembayaran</h2>

            <!-- Content Struck -->
            <div class="details">
                <p><strong>Nama</strong>:<span id="customerName"></span></p>
                <p><strong>Nomor Telepon</strong>:<span id="customerPhone"></span></p>
                <p><strong>Metode Pengambilan</strong>:<span id="pickupMethod"></span></p>
                <p><strong>Tanggal</strong>:<span id="paymentDate"></span></p>
                <p><strong>Jam</strong>:<span id="paymentTime"></span></p>
                <p><strong>Total Item</strong>:<span id="totalItems"></span></p>
                <p><strong>Total Harga</strong>:<span id="totalPrice"></span></p>         
            </div>
            <hr>
            <div class="ket">
                <p>Terima Kasih dan Selamat Menikmati!</p>
            </div>

            <!-- Tombol cetak struk dan kembali ke menu -->
            <div class="button" id="button">
                <button onclick="handlePrintClick()">Cetak Struk</button>
                <a href="#" class="backButton" id="backToMenu" onclick="showRatingModal()">Kembali ke Menu</a>
            </div>

        </div>
    </div>

    <!-- Pop Up untuk rating -->
    <div id="ratingModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeRatingModal()">&times;</span>
            <h2>Beri Rating Kami</h2>
            <div class="rating">
                <i class='bx bxs-star' data-value="1"></i>
                <i class='bx bxs-star' data-value="2"></i>
                <i class='bx bxs-star' data-value="3"></i>
                <i class='bx bxs-star' data-value="4"></i>
                <i class='bx bxs-star' data-value="5"></i>
            </div>
            <button id="submitRating" onclick="submitRating()">Submit</button>
        </div>
    </div>

    <!-- Pop UP untuk ucapan terima kasih -->
    <div id="thankYouModal" class="modal">
        <div class="modal-content">
            <h2>Terima Kasih!</h2>
            <p>Terima kasih atas rating Anda!</p>
            <button id="goToMenu" onclick="goToMenu()">Kembali ke Menu</button>
        </div>
    </div>

    <script src="js/payment_success.js"></script>
    <script>
        function showRatingModal() {
            document.getElementById('ratingModal').style.display = 'block';
        }

        function closeRatingModal() {
            document.getElementById('ratingModal').style.display = 'none';
        }

        function submitRating() {
            closeRatingModal();
            document.getElementById('thankYouModal').style.display = 'block';
        }

        function goToMenu() {
            document.getElementById('thankYouModal').style.display = 'none';
            window.location.href = 'index.html';  // Redirect to the main menu
        }
        
        // Optional: Add event listeners to stars for rating selection
        document.querySelectorAll('.rating i').forEach(star => {
            star.addEventListener('click', function() {
                document.querySelectorAll('.rating i').forEach(s => s.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
    </script>
</body>
</html>
